<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmallPDF Editör Test</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.min.js"></script>
    <script src="https://unpkg.com/jspdf@3.0.1/dist/jspdf.umd.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        .app-container {
            width: 100vw;
            height: 100vh;
            overflow: hidden;
        }
    </style>
</head>
<body>
    <div id="root" class="app-container"></div>
    
    <script>
        // PDF.js setup
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js';
        
        console.log('SmallPDF Editör Test Sayfası Hazır');
        console.log('React:', typeof React !== 'undefined' ? 'Yüklendi' : 'Yüklenmedi');
        console.log('ReactDOM:', typeof ReactDOM !== 'undefined' ? 'Yüklendi' : 'Yüklenmedi');
        console.log('PDF.js:', typeof pdfjsLib !== 'undefined' ? 'Yüklendi' : 'Yüklenmedi');
        console.log('jsPDF:', typeof window.jspdf !== 'undefined' ? 'Yüklendi' : 'Yüklenmedi');
        
        // Test PDF creation function
        async function createTestPDF() {
            try {
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF();
                
                // Title
                doc.setFontSize(24);
                doc.text('SmallPDF Benzeri Editör', 20, 30);
                
                // Subtitle
                doc.setFontSize(16);
                doc.text('Test Belgesi', 20, 50);
                
                // Content
                doc.setFontSize(12);
                doc.text('Bu belge PDF editörünün gelişmiş özelliklerini test etmek için oluşturulmuştur.', 20, 70);
                doc.text('', 20, 80);
                doc.text('Mevcut özellikler:', 20, 90);
                doc.text('✓ Metin ekleme ve düzenleme', 30, 105);
                doc.text('✓ Vurgulama ve işaretleme', 30, 120);
                doc.text('✓ Serbest çizim', 30, 135);
                doc.text('✓ Şekil ekleme (kutu, daire)', 30, 150);
                doc.text('✓ İmza alanları', 30, 165);
                doc.text('✓ Yapışkan notlar', 30, 180);
                doc.text('✓ Resim ekleme', 30, 195);
                
                // Box for testing
                doc.rect(20, 210, 60, 40);
                doc.text('Test Alanı', 30, 235);
                
                // Second page
                doc.addPage();
                doc.setFontSize(18);
                doc.text('İkinci Sayfa', 20, 30);
                doc.setFontSize(12);
                doc.text('Bu sayfada da editör özelliklerini test edebilirsiniz.', 20, 50);
                doc.text('Sayfa gezinme ile farklı sayfalara geçiş yapabilirsiniz.', 20, 70);
                
                const pdfBlob = doc.output('blob');
                const url = URL.createObjectURL(pdfBlob);
                
                console.log('Test PDF oluşturuldu:', url);
                return url;
            } catch (error) {
                console.error('Test PDF oluşturma hatası:', error);
                return null;
            }
        }
        
        // Test button
        const testButton = document.createElement('button');
        testButton.textContent = 'Test PDF Oluştur';
        testButton.className = 'fixed top-4 right-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 z-50';
        testButton.onclick = async () => {
            const pdfUrl = await createTestPDF();
            if (pdfUrl) {
                const a = document.createElement('a');
                a.href = pdfUrl;
                a.download = 'smallpdf-test.pdf';
                a.click();
                URL.revokeObjectURL(pdfUrl);
            }
        };
        document.body.appendChild(testButton);
        
        // Test message
        const testDiv = document.createElement('div');
        testDiv.className = 'fixed top-4 left-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded z-50';
        testDiv.innerHTML = `
            <strong>Test Sayfası Hazır!</strong><br>
            • PDF.js ${typeof pdfjsLib !== 'undefined' ? '✓' : '✗'}<br>
            • React ${typeof React !== 'undefined' ? '✓' : '✗'}<br>
            • jsPDF ${typeof window.jspdf !== 'undefined' ? '✓' : '✗'}
        `;
        document.body.appendChild(testDiv);
        
        // Hide after 5 seconds
        setTimeout(() => {
            if (testDiv.parentNode) {
                testDiv.parentNode.removeChild(testDiv);
            }
        }, 5000);
    </script>
</body>
</html>
